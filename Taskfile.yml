# plat-splat Taskfile
#
# Generated by: xplat manifest bootstrap
# Regenerate with: xplat manifest bootstrap
#
# Run 'task' to see available commands

version: "3"

vars:
  BINARY: polyform
  MAIN: .

tasks:
  default:
    desc: Show available tasks
    cmds:
      - task --list

  build:
    desc: Build the binary
    cmds:
      - go build -o {{.BINARY}} {{.MAIN}}

  test:
    desc: Run tests
    cmds:
      - echo "No tests yet"

  lint:
    desc: Run linter
    cmds:
      - golangci-lint run || echo "golangci-lint not installed, skipping"

  clean:
    desc: Clean build artifacts
    cmds:
      - rm -f {{.BINARY}}

  install:
    desc: Install to GOBIN
    cmds:
      - go install {{.MAIN}}

  run:
    desc: Build and run
    deps: [build]
    cmds:
      - ./{{.BINARY}}

  mod:
    desc: Tidy go modules
    cmds:
      - go mod tidy
